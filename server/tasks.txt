Пользователь заходит в бот по специальной ссылке, содержащей трекинговый ID. Для каждого пользователя, зашедшего в бот с ID, бот один раз отправляет запрос на сторонний сервис (Keitaro), в котором будет содержаться трекинговый ID из ссылки на запуск бота (например, https://t.me/some_bot?start=2grg3434r). Далее пользователю отправляется гифка и ссылка в виде инлайн-кнопки, открывающая Telegram WebApp.

. При нажатии на кнопку "поделиться" открывается выбор чата в Telegram для отправки заготовленного сообщения с реферальной ссылкой.